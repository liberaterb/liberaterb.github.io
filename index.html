<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>INDEX</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.0/lib/theme-chalk/index.css">
    <style>
        .el-calendar-table .el-calendar-day {
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- <clock></clock> -->
        <!-- <el-calendar v-model="value">
        <template v-slot:dateCell="{date,data}">
                <p :class="data.isSelected ? 'is-selected' : ''">
                    {{ data.day.split('-').slice(1).join('-') }} {{ data.isSelected ? '✔️' : ''}}
                </p>
            </template>
        </el-calendar> -->

        <el-calendar>
            <!-- 这里使用的是 2.5 slot 语法，对于新项目请使用 2.6 slot 语法-->
            <template slot="dateCell" slot-scope="{date, data}">
                <div @click="handleSelectDate(data)" style="height: 100%;width: 100%;">{{ dayjs(date).format('DD') }}
                </div>
            </template>
        </el-calendar>
        <el-dialog title="content" :visible.sync="dialogVisible" width="70%">
            <div v-html="compiledMarkdown"></div>
        </el-dialog>
    </div>
    <!-- <script src="./components/clock.js"></script> -->

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.0/lib/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.10.3/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@1.2.7/lib/marked.js"></script>
    <script>
        let app = new Vue({
            el: '#app',
            data() {
                return {
                    value: new Date(),
                    input: '',
                    dialogVisible: false,
                    text: {
                        '2021-01-06': '# 123'
                    }
                }
            },
            created() {
            },
            mounted() {

            },
            methods: {
                handleSelectDate(data) {
                    this.input = this.text[data.day] ?? ''
                    this.dialogVisible = true
                }
            },
            components: {

            },
            computed: {
                compiledMarkdown() {
                    return marked(this.input);
                }
            }
        })
    </script>
</body>

</html>